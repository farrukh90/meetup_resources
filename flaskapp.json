{
    "builders": [{
         "type": "amazon-ebs",
         "region": "{{user `region`}}",
         "source_ami": "{{user `ami`}}",
         "instance_type": "{{user `instance_type`}}",
         "ssh_username": "{{user `ssh_username`}}",
         "ami_name": "flask_app-{{timestamp}}"
       }],
    "provisioners": [
        {
        "type": "shell",
            "inline": [
                "sudo yum install git python-pip -y",
                "git clone https://github.com/farrukh90/Flaskex.git /tmp/Flaskex",
                "sudo cp /tmp/Flaskex/flaskex.service /etc/systemd/system/",
                "pip install /tmp/Flaskex/requirements.txt",
                "systemctl enable flaskex"
            ]
        }
    ]
}
   